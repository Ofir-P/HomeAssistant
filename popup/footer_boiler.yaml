action: fire-dom-event
browser_mod:
  service: browser_mod.popup
  data:
    title: Boiler
    card_mod:
      style:
        #popup header
        .:
    content:
      type: vertical-stack
      cards:
        - square: false
          columns: 1
          type: grid
          cards:
            - type: custom:mushroom-template-card
              primary: >-
                Remaining time: {{ states("sensor.switcher_v4_yair_stern_remaining_time")
                }}
              secondary: >-
                Current:
                {{states("sensor.switcher_v4_yair_stern_electric_current")}}{{state_attr("sensor.switcher_v4_yair_stern_electric_current","unit_of_measurement")}}
              icon: mdi:water-boiler
              entity: switch.switcher_v4_yair_stern
              tap_action:
                action: call-service
                service: switch.toggle
                target:
                  entity_id: switch.switcher_v4_yair_stern
              icon_color: |
                {% if states('switch.switcher_v4_yair_stern') == 'off' %}
                  blue
                {% else %}
                  red
                {% endif %}
            - type: custom:mushroom-chips-card
              styles:
                card:
                  - justify-content: center
              chips:
                - type: template
                  icon: mdi:clock-time-four-outline
                  icon_color: blue
                  content: 35 Min
                  tap_action:
                    action: call-service
                    service: switcher_kis.turn_on_with_timer
                    data:
                      timer_minutes: 35
                    target:
                      entity_id: switch.switcher_v4_yair_stern
                - type: template
                  icon: mdi:clock-time-eight-outline
                  icon_color: blue
                  content: 45 Min
                  tap_action:
                    action: call-service
                    service: switcher_kis.turn_on_with_timer
                    data:
                      timer_minutes: 45
                    target:
                      entity_id: switch.switcher_v4_yair_stern
                - type: template
                  icon: mdi:clock-time-twelve-outline
                  icon_color: blue
                  content: 60 Min
                  tap_action:
                    action: call-service
                    service: switcher_kis.turn_on_with_timer
                    data:
                      timer_minutes: 60
                    target:
                      entity_id: switch.switcher_v4_yair_stern
