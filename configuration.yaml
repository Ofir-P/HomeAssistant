# Loads default set of integrations. Do not remove.
default_config:

# [=========================]Xiaomi Miot[=========================]
xiaomi_miot:
  ### Ideas/suggestions taken from https://github.com/al-one/hass-xiaomi-miot/issues/326
  device_customizes:
    hfjh.fishbowl.v2:
      ### Generate number entities for pump flux, brightness and led color
      number_properties: pump_flux,ledboard_color
      ### Generate a button entity to trigger the action to feed the fish
      button_actions: set_feed_single
      ### Add attribute to keep track of latest feed-record event
      miio_cloud_props: event.4.1
  exclude_state_attributes:
    ### Generic attributes to exclude
    - mac_address
    ### Aquarium attributes to exclude
    - function.mcu_type
    - function.mcu_type_new
    - function.key_switch
    - function.feed_time_week
    - function.feed_num
    - function.feed_time
    - function.feed_time_switch
    - function.ledboard_time_switch
    - function.ledboard_time_open
    - function.ledboard_time_close
    - function.ledboard_model
    - function.ledboard_sun
    - function.ledboard_stream
    - function.ledboard_speed
    - function.ledboard_time_switch
    - function.ledboard_time_open
    - function.ledboard_time_close
    - function.ledboard_brightness
# [=========================]Xiaomi Miot[=========================]
# [=========================]Switchbot[=========================]
rest_command:
  switchbot_device_command:
    url: "https://api.switch-bot.com/v1.0/devices/{{ deviceId }}/commands"
    method: post
    content_type: "application/json"
    headers:
      Authorization: !secret switchbot_api
    payload: '{"command": "{{ command }}"}'

switch:
  - platform: template
    switches:
      tv_office:
        friendly_name: Office TV
        turn_on:
          service: rest_command.switchbot_device_command
          data:
            deviceId: !secret switchbot_deviceId
            command: "turnOn"
        turn_off:
          service: rest_command.switchbot_device_command
          data:
            deviceId: !secret switchbot_deviceId
            command: "turnOff"
        icon_template: >-
          {% if is_state('switch.tv_office', 'off') %}
            mdi:television
          {% else %}
            mdi:television
          {% endif %}
# [=========================]Switchbot[=========================]
# [=========================]Spotcast[=========================]
spotcast:
  sp_dc: !secret primary_sp_dc
  sp_key: !secret primary_sp_key
  country: IL #optional, added in 3.6.24
  accounts:
    elian:
      sp_dc: !secret elian_sp_dc
      sp_key: !secret elian_sp_key
    ofir:
      sp_dc: !secret ofir_sp_dc
      sp_key: !secret ofir_sp_key

# [=========================]Spotcast[=========================]
logbook:
  exclude:
    entities:
      - sensor.time
# [=========================]Alexa[=========================]
alexa_media:
  accounts:
    - email: !secret amazon_user
      password: !secret amazon_password
      url: amazon.com
# [=========================]Alexa[=========================]
# [=========================]trakt.tv[=========================]
trakt_tv:
  language: en
  timezone: Europe/Paris
  sensors:
    upcoming:
      show:
        days_to_fetch: 30
        max_medias: 10
      movie:
        days_to_fetch: 45
        max_medias: 5
    recommendation:
      show:
        max_medias: 3
      movie:
        max_medias: 3
# [=========================]trakt.tv[=========================]
# [=========================]Authenticated[=========================]
logger:
  default: info
  logs:
    custom_components.authenticated: debug
# [=========================]Authenticated[=========================]
# [=========================]Themes[=========================]
frontend: !include themes.yaml

lovelace:
  mode: yaml
  resources:
    [
      { url: /hacsfiles/apexcharts-card/apexcharts-card.js, type: module },
      { url: /hacsfiles/bar-card/bar-card.js, type: module },
      { url: /hacsfiles/button-card/button-card.js, type: module },
      { url: /hacsfiles/custom-icons/custom-icons.js, type: module },
      { url: /hacsfiles/vacuum-card/vacuum-card.js, type: module },
      { url: /hacsfiles/lovelace-layout-card/layout-card.js, type: module },
      {
        url: /hacsfiles/lovelace-more-info-card/more-info-card.js,
        type: module,
      },
      { url: /hacsfiles/lovelace-mushroom/mushroom.js, type: module },
      {
        url: /hacsfiles/lovelace-slider-entity-row/slider-entity-row.js,
        type: module,
      },
      { url: /hacsfiles/swipe-card/swipe-card.js, type: module },
      { url: /hacsfiles/tabbed-card/tabbed-card.js, type: module },
      { url: "/local/marked.min.js?v=4.2.1", type: module },
      { url: "/local/vanilla-tilt.min.js?v=1.7.3", type: module },
      { url: "/local/browser_mod_icon.js?v=0.5", type: module },
      { url: "/local/fonts.css?v=2.1", type: css },
    ]
# [=========================]Themes[=========================]

# [=========================]Text to speech[=========================]
tts:
  - platform: google_translate
# [=========================]Text to speech[=========================]

automation: !include automations.yaml
script: !include scripts.yaml
input_select: !include input_select.yaml
scene: !include scenes.yaml
sensor: !include sensors.yaml
binary_sensor: !include binary_sensor.yaml
group: !include groups.yaml
template: !include templates.yaml
command_line: !include command_line.yaml

homeassistant:
  customize: !include customize.yaml

shell_command:
  pushupdates_to_github: /bin/bash pushupdates.sh

# [=========================]Ombi[=========================]
ombi:
  host: "10.0.0.153"
  username: !secret ombi_user
  api_key: !secret ombi_api
  port: 3579
# [=========================]Ombi[=========================]
# [=========================]Home Zone[=========================]
zone:
  # This will override the default home zone
  - name: Home
    latitude: !secret latitude_home
    longitude: !secret longitude_home
    radius: 40
    icon: mdi:account-multiple
# [=========================]Home Zone[=========================]
# [=========================]Telegram[=========================]
telegram_bot:
  - platform: polling
    api_key: !secret telegram_api
    allowed_chat_ids:
      - !secret telegramSupervisor_groupChatId
      - !secret telegram_groupChatId

notify:
  - platform: telegram
    name: Home Assistant Group
    chat_id: !secret telegram_groupChatId
  - platform: telegram
    name: Supervisor Telegram
    chat_id: !secret telegramSupervisor_groupChatId
# [=========================]Telegram[=========================]
